
# å¾ React åˆ° Next.js

##ã€€é–‹å§‹æ‚¨çš„ Next.js

åœ¨å®‰è£ Next.js åˆ°æ‚¨çš„å°ˆæ¡ˆå‰ï¼Œæ‚¨ä¸å†éœ€è¦é€éæ‰‹å‹•åŠ å…¥ react èˆ‡ react-dom çš„ script æ¨™ç±¤çš„æ–¹å¼å¼•å…¥ React 

å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæ‚¨å¯ä»¥åœ¨æœ¬åœ°ç«¯ä½¿ç”¨å¥—ä»¶ç®¡ç†å·¥å…· npm ä¾†å®‰è£é€™äº›å¥—ä»¶


> å°æé†’ï¼šæ‚¨éœ€è¦åœ¨æ‚¨çš„é›»è…¦ä¸­å®‰è£ Node.js [æœ€ä½ç‰ˆæœ¬éœ€æ±‚](/docs/upgrading#minimum-nodejs-version)ï¼Œ[æ‚¨å¯ä»¥åœ¨æ­¤é€²è¡Œä¸‹è¼‰](https://nodejs.org/en/)


åœ¨æº–å‚™é€²è¡Œé–‹ç™¼å‰ï¼Œè«‹å…ˆæ–°å¢ä¸€å€‹å…§å®¹ç‚ºç©ºç‰©ä»¶çš„ package.json æ–‡æª”ã€‚

```
    //package.json
    {

    }
```

æ¥è‘—ï¼Œè«‹åœ¨æ‚¨çš„çµ‚ç«¯æ©Ÿä¸­é‹è¡Œ npm install react react-dom nextã€‚

ç•¶å®‰è£ç¨‹åºå®Œæˆå¾Œï¼Œæ‚¨å¯ä»¥åœ¨ package.json æ–‡æª”æŸ¥çœ‹æ‰€æœ‰çš„å°ˆæ¡ˆç›¸ä¾å¥—ä»¶èˆ‡æ‡‰ç”¨ç¨‹å¼è³‡è¨Šï¼š

```
// package.json
{
  "dependencies": {
    "next": "^12.1.0",
    "react": "^17.0.2",
    "react-dom": "^17.0.2"
  }
}
```
You will also notice a new folder called node_modules that contains the actual files of our dependencies.

æ‚¨ä¹Ÿæœƒæ³¨æ„åˆ°æœ‰å€‹ node_modules çš„è³‡æ–™å¤¾ï¼Œä¸»è¦å­˜æ”¾å°ˆæ¡ˆç›¸ä¾é …ä¸­çš„å¥—ä»¶å…§å®¹ã€‚

Jumping back to the index.html file, you can delete the following code:

å›åˆ° index.htmlï¼Œæ‚¨å¯ä»¥ç§»é™¤ä»¥ä¸‹æåŠçš„ç¨‹å¼ç¢¼ï¼š

  1. è‹¥æ‚¨å·²ä½¿ç”¨ npm å®‰è£ react èˆ‡ react-dom ç­‰å¥—ä»¶ï¼Œå‰‡å¯ä»¥ç§»é™¤æ‰‹å‹•å¼•å…¥çš„ React èˆ‡ React-dom script æ¨™ç±¤
  2. <html> èˆ‡ <body>ã€‚Next.js é è¨­æœƒæä¾›é€™å…©å€‹æ¨™ç±¤ 
  3. æœƒèˆ‡ React ä¸­çš„ app DOM å…ƒç´ èˆ‡ ReactDom.render() é€£å‹•çš„ç›¸é—œç¨‹å¼ç¢¼
  4. Babel èªæ³•ã€‚Next.js çš„ç·¨è­¯å™¨æœƒè‡ªè¡Œå°‡ JSX èªæ³•è½‰æ›ç‚ºå¯ä¾›ç€è¦½å™¨è®€å–çš„ JavaScript èªæ³•
  5. <script type="text/jsx"> æ¨™ç±¤
  6. React. éƒ¨åˆ†çš„ React.useState(0) å‡½å¼
  7. åœ¨æ‚¨ç§»é™¤ä»¥ä¸ŠæåŠçš„å…§å®¹å¾Œï¼Œè«‹åœ¨ index.html é ‚éƒ¨æ·»åŠ ä¸€è¡Œ import { useState } from "react"ã€‚æ‚¨çš„ç¨‹å¼ç¢¼æ‡‰è©²æœƒå¦‚ä¸‹æ‰€ç¤ºï¼š

```
// index.html
import { useState } from 'react';
function Header({ title }) {
  return <h1>{title ? title : 'Default title'}</h1>;
}

function HomePage() {
  const names = ['Ada Lovelace', 'Grace Hopper', 'Margaret Hamilton'];

  const [likes, setLikes] = useState(0);

  function handleClick() {
    setLikes(likes + 1);
  }

  return (
    <div>
      <Header title="Develop. Preview. Ship. ğŸš€" />
      <ul>
        {names.map((name) => (
          <li key={name}>{name}</li>
        ))}
      </ul>

      <button onClick={handleClick}>Like ({likes})</button>
    </div>
  );
}
```
The only code left in the HTML file is JSX, so you can change the file type from .html to .js or .jsx.
æ­¤æ™‚åœ¨ index.html ä¸­çš„ç¨‹å¼ç¢¼å‡ç‚º JSXï¼Œå› æ­¤æ‚¨å¯ä»¥å°‡ index.html çš„æª”æ¡ˆé¡å‹ç”± .html æ›¿æ›ç‚º .js æˆ– .jsxã€‚

Now, there are three more things you need to do to fully transition to a Next.js app:
ç¾åœ¨ï¼Œåœ¨å®Œå…¨éæ¸¡è‡³ Next.js å‰ï¼Œæ‚¨é‚„éœ€è¦åŸ·è¡Œä¸‹åˆ—ä¸‰é …ç¨‹åºï¼š

Move the index.js file to a new folder called pages (more on this later).
Add default export to your main React component to help Next.js distinguish which component to render as the main component of this page.

  1. ç§»å‹• index.js è‡³ pages è³‡æ–™å¤¾å…§(ç¨å¾Œæœƒè©³ç´°ä»‹ç´¹)
  2. é‡å°ä¸»è¦çš„ React å…ƒä»¶åŠ å…¥ export default æŒ‡å®šï¼Œè®“ Next.js å¯è¾¨åˆ¥é é¢éœ€è¦æ¸²æŸ“çš„ä¸»å…ƒä»¶

```
   // ...
   export default function HomePage() {
   //  ...
```

  3. åœ¨ package.json ä¸­å¢åŠ ä¸€çµ„ scriptï¼Œä»¥ä¾¿åœ¨æ‚¨é€²è¡Œé–‹ç™¼åŒæ™‚é‹è¡Œ Next.js ç’°å¢ƒä¼ºæœå™¨  file to run the Next.js development server while you develop.

```   
   // package.json
   {
    "scripts": {
        "dev": "next dev"
    },
     // "dependencies": {
     //   "next": "^11.1.0",
     //   "react": "^17.0.2",
     //   "react-dom": "^17.0.2"
     // }
   }
```

## Running the development server
To confirm everything works, you can view your app by running npm run dev inside your terminal and navigating to localhost:3000 in the browser. Then, make a small change to the code and save it.

Once you save the file, you should notice the browser automatically updates to reflect the change.

This feature is called Fast Refresh. It gives you instantaneous feedback on any edits you make and comes pre-configured with Next.js.

To recap, your code went from this...

<TranslatedBy githubUserNames={["st880517"]} />


<Pagination
  hrefs={[
    '/learn/foundations/from-react-to-nextjs',
    '/learn/foundations/from-react-to-nextjs/getting-started-with-nextjs',
    '/learn/foundations/from-react-to-nextjs/next-steps'
  ]}
/>


