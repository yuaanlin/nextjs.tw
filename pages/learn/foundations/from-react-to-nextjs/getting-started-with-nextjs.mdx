import Blockquote from "@components/Blockquote";
import Button from "@components/Button";

# å¾ React åˆ° Next.js

<Pagination
  hrefs={[
    "/learn/foundations/from-react-to-nextjs",
    "/learn/foundations/from-react-to-nextjs/getting-started-with-nextjs",
    "/learn/foundations/from-react-to-nextjs/next-steps",
  ]}
/>

## é–‹å§‹ä½ çš„ Next.js

åœ¨å®‰è£ Next.js åˆ°ä½ çš„å°ˆæ¡ˆå‰ï¼Œä½ ä¸å†éœ€è¦é€éæ‰‹å‹•åŠ å…¥ `react` èˆ‡ `react-dom` çš„ script æ¨™ç±¤çš„æ–¹å¼å¼•å…¥ React
å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ å¯ä»¥åœ¨æœ¬åœ°ç«¯ä½¿ç”¨å¥—ä»¶ç®¡ç†å·¥å…· `npm` ä¾†å®‰è£é€™äº›å¥—ä»¶

<Blockquote>
  å°æé†’ï¼šä½ éœ€è¦åœ¨é›»è…¦ä¸­å®‰è£ Node.js
  [æœ€ä½ç‰ˆæœ¬éœ€æ±‚](/docs/upgrading#minimum-nodejs-version)ï¼Œ[å¯ä»¥åœ¨æ­¤é€²è¡Œä¸‹è¼‰](https://nodejs.org/en/)
</Blockquote>

åœ¨æº–å‚™é–‹ç™¼å‰ï¼Œè«‹å…ˆæ–°å¢ä¸€å€‹å…§å®¹ç‚ºç©ºç‰©ä»¶ `{}` çš„ `package.json` æ–‡æª”ã€‚

```html
//package.json
{

}
```

æ¥è‘—ï¼Œè«‹åœ¨ä½ çš„çµ‚ç«¯æ©Ÿä¸­é‹è¡Œ `npm install react react-dom next`ã€‚
ç•¶å®‰è£ç¨‹åºå®Œæˆå¾Œï¼Œä½ å¯ä»¥åœ¨ `package.json` æ–‡æª”ä¸­ï¼ŒæŸ¥çœ‹å°ˆæ¡ˆæ‰€æœ‰çš„ç›¸ä¾å¥—ä»¶èˆ‡æ‡‰ç”¨ç¨‹å¼è³‡è¨Šï¼š

```html
// package.json
{
  "dependencies": {
    "next": "^12.1.0",
    "react": "^17.0.2",
    "react-dom": "^17.0.2"
  }
}
```

ä½ ä¹Ÿæœƒæ³¨æ„åˆ°æœ‰å€‹ `node_modules` çš„è³‡æ–™å¤¾ï¼Œä¸»è¦å­˜æ”¾å°ˆæ¡ˆç›¸ä¾é …ä¸­çš„å¥—ä»¶å…§å®¹ã€‚
å›åˆ° `index.html`ï¼Œä½ å¯ä»¥ç§»é™¤ä»¥ä¸‹æåŠçš„ç¨‹å¼ç¢¼ï¼š

1. è‹¥ä½ å·²ä½¿ç”¨ `npm` å®‰è£ `react` èˆ‡ `react-dom` ç­‰å¥—ä»¶ï¼Œå‰‡å¯ä»¥ç§»é™¤æ‰‹å‹•å¼•å…¥çš„ `React` èˆ‡ `react-dom script` æ¨™ç±¤
2. `<html>` èˆ‡ `<body>`ã€‚Next.js é è¨­æœƒæä¾›é€™å…©å€‹æ¨™ç±¤
3. æœƒèˆ‡ React ä¸­çš„ `app` å…ƒç´ èˆ‡ `ReactDom.render()` é€£å‹•çš„ç›¸é—œç¨‹å¼ç¢¼
4. `Babel` èªæ³•ã€‚Next.js çš„ç·¨è­¯å™¨æœƒè‡ªè¡Œå°‡ JSX èªæ³•è½‰æ›ç‚ºå¯ä¾›ç€è¦½å™¨è®€å–çš„ JavaScript èªæ³•
5. `<script type="text/jsx">` æ¨™ç±¤
6. React éƒ¨åˆ†çš„ `React.useState(0)` å‡½å¼
7. åœ¨ä½ ç§»é™¤ä»¥ä¸ŠæåŠçš„å…§å®¹å¾Œï¼Œè«‹åœ¨ `index.html` é ‚éƒ¨æ·»åŠ ä¸€è¡Œ `import { useState } from "react"`ã€‚ä½ çš„ç¨‹å¼ç¢¼æ‡‰è©²æœƒå¦‚ä¸‹æ‰€ç¤ºï¼š

```html
// index.html
import { useState } from 'react';
function Header({ title }) {
  return <h1>{title ? title : 'Default title'}</h1>;
}

function HomePage() {
  const names = ['Ada Lovelace', 'Grace Hopper', 'Margaret Hamilton'];

  const [likes, setLikes] = useState(0);

  function handleClick() {
    setLikes(likes + 1);
  }

  return (
    <div>
      <Header title="Develop. Preview. Ship. ğŸš€" />
      <ul>
        {names.map((name) => (
          <li key={name}>{name}</li>
        ))}
      </ul>

      <button onClick={handleClick}>Like ({likes})</button>
    </div>
  );
}
```

æ­¤æ™‚åœ¨ `index.html` ä¸­çš„ç¨‹å¼ç¢¼å‡ç‚º JSX èªæ³•ï¼Œç‚ºæ­¤ä½ å¯å°‡ `index.html` çš„æª”æ¡ˆé¡å‹ç”± .html æ›¿æ›ç‚º `.js` æˆ– `.jsx`ã€‚
ç¾åœ¨ï¼Œåœ¨å®Œå…¨éæ¸¡è‡³ Next.js å‰ï¼Œä½ é‚„éœ€è¦åŸ·è¡Œä¸‹åˆ—ä¸‰é …å·¥åºï¼š

1. ç§»å‹• `index.js` è‡³ `pages` è³‡æ–™å¤¾å…§(ç¨å¾Œæœƒè©³ç´°ä»‹ç´¹)
2. é‡å°ä¸»è¦çš„ React å…ƒä»¶åŠ å…¥ export defaultï¼Œå¹«åŠ© Next.js è¾¨åˆ¥é é¢éœ€è¦æ¸²æŸ“çš„ä¸»è¦å…ƒä»¶

```html
   // ...
   export default function HomePage() {
   //  ...
```

3. åœ¨ `package.json` ä¸­å¢åŠ ä¸€çµ„ scriptï¼Œä»¥ä¾¿åœ¨ä½ é€²è¡Œé–‹ç™¼åŒæ™‚é‹è¡Œ Next.js ç’°å¢ƒä¼ºæœå™¨ã€‚

```html
   // package.json
   {
    "scripts": {
        "dev": "next dev"
    },
     // "dependencies": {
     //   "next": "^11.1.0",
     //   "react": "^17.0.2",
     //   "react-dom": "^17.0.2"
     // }
   }
```

## é‹è¡Œé–‹ç™¼ç’°å¢ƒ

ä½ å¯é€éçµ‚ç«¯æ©Ÿé‹è¡Œ `npm run dev` ä¸¦é–‹å•Ÿç€è¦½å™¨å‰å¾€ [localhost:3000](localhost:3000) ä»¥æŸ¥çœ‹æ‡‰ç”¨ç¨‹å¼æ˜¯å¦æ­£å¸¸é‹ä½œã€‚æ¥ä¸‹ä¾†ï¼Œä½ å¯ä»¥é‡å°ç¨‹å¼ç¢¼è©¦è‘—åšäº›èª¿æ•´ä¸¦å„²å­˜
ç•¶ä½ å„²å­˜èª¿æ•´å¾Œçš„ç¨‹å¼ç¢¼ï¼Œä½ æ‡‰è©²æœƒç™¼ç¾ç€è¦½å™¨å·²è‡ªå‹•é‡æ–°æ¸²æŸ“é é¢ï¼Œä»¥åæ˜ ä½ åœ¨ç¨‹å¼ç¢¼ä¸Šçš„æ›´å‹•ï¼Œé€™æ¨£çš„ç‰¹è‰²ç¨±ç‚º **[å¿«é€Ÿé‡æ–°æ•´ç†( Fast Fresh )](/docs/basic-features/fast-refresh)** ã€‚å®ƒæœƒå°ä½ åœ¨ç·¨è¼¯ç¨‹å¼ç¢¼å¾Œæä¾›å³æ™‚æ€§çš„å›é¥‹ï¼Œä¸¦è®“ Next.js é å…ˆé‡å°é€™äº›å›é¥‹é€²è¡Œé…ç½®ã€‚
ç°¡å–®å›é¡§ä¸€ä¸‹ï¼Œä½ çš„ç¨‹å¼ç¢¼å¾å…ˆå‰çš„çµæ§‹...

```html
<html>
  <body>
    <div id="app"></div>

    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/jsx">
      const app = document.getElementById("app")

      function Header({ title }) {
        return <h1>{title ? title : "Default title"}</h1>
      }

      function HomePage() {
        const names = ["Ada Lovelace", "Grace Hopper", "Margaret Hamilton"]
        const [likes, setLikes] = React.useState(0)

        function handleClick() {
          setLikes(likes + 1)
        }

        return (
          <div>
            <Header title="Develop. Preview. Ship. ğŸš€" />
            <ul>
              {names.map((name) => (
                <li key={name}>{name}</li>
              ))}
            </ul>

            <button onClick={handleClick}>Like ({likes})</button>
          </div>
        )
      }

      ReactDOM.render(<HomePage />, app)
    </script>
  </body>
</html>
```

è®Šç‚ºä»¥ä¸‹çš„çµæ§‹...

```html
import { useState } from 'react';

function Header({ title }) {
  return <h1>{title ? title : 'Default title'}</h1>;
}

export default function HomePage() {
  const names = ['Ada Lovelace', 'Grace Hopper', 'Margaret Hamilton'];
  const [likes, setLikes] = useState(0);

  function handleClick() {
    setLikes(likes + 1);
  }

  return (
    <div>
      <Header title="Develop. Preview. Ship. ğŸš€" />
      <ul>
        {names.map((name) => (
          <li key={name}>{name}</li>
        ))}
      </ul>

      <button onClick={handleClick}>Like ({likes})</button>
    </div>
  );
}
```

å¾è¡¨é¢ä¸Šä¾†çœ‹ï¼Œé€™äº›éç¨‹åªæ˜¯æ¸›å°‘äº†å¹¾è¡Œç¨‹å¼ç¢¼ï¼Œä½†å®ƒç¢ºå¯¦å¹«åŠ©å‡¸é¡¯äº†ä¸€äº›äº‹æƒ…ï¼šReact æ˜¯ä¸€ç¨® **å‡½å¼åº«**ï¼Œå®ƒæä¾›äº†æ§‹ç¯‰ç¾ä»£äº’å‹•å¼ UI çš„ **ä¸€åˆ‡åŸºæœ¬** äº‹ç‰©ï¼Œä½†ä»éœ€è¦é€éä¸€äº›å·¥åºå°‡ä½ è£½ä½œçš„ UI æ•´åˆè‡³æ‡‰ç”¨ç¨‹å¼ä¸­ã€‚
çœ‹å®Œå‰é¢å°æ–¼ç¨‹å¼ç¢¼ä¸Šçš„è®Šæ›´ï¼Œä½ æˆ–è¨±å·²ç¶“ç†è§£ä½¿ç”¨ Next.js çš„å¥½è™•ã€‚ä½ ç§»é™¤äº† Babel Scriptï¼Œ é«”é©—äº†ä¸å†éœ€è¦å¤šé¤˜æ€è€ƒè€Œé…ç½®çš„è¤‡é›œå·¥å…·ã€‚ä½ ä¹Ÿè§€å¯Ÿåˆ°äº† **[å¿«é€Ÿé‡æ–°æ•´ç†( Fast Fresh )](/docs/basic-features/fast-refresh)** çš„å¯¦éš›æ•ˆæœï¼Œè€Œé€™äº›åªæ˜¯ Next.js åœ¨çœ¾å¤šé–‹ç™¼è€…é«”é©—ç‰¹è‰²ä¸­çš„å…¶ä¸­ä¸€é …ã€‚

<Button
  content="è¿”å›ä¸Šä¸€é  â†"
  url="/learn/foundations/about-nextjs/index"
  basicStyle="text-white bg-[#0070f3]"
  hoverStyle="hover:opacity-90"
/>

<Button
  content="å‰å¾€ä¸‹ä¸€é  â†’"
  url="/learn/foundations/from-react-to-nextjs/next-steps"
  basicStyle="text-white bg-[#0070f3]"
  hoverStyle="hover:opacity-90"
/>

<TranslatedBy githubUserNames={["st880517"]} />
